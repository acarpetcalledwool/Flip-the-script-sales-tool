<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mega Blinds Companion</title>
    <style>
        :root { 
            --p: #004a99; /* Mega Blue */
            --bg: #f8f9fa; 
            --txt: #212529; 
            --err: #d90429; 
            --safe: #28a745;
            --warn: #ffc107;
            --card-bg: #ffffff;
        }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; 
            background: var(--bg); 
            color: var(--txt); 
            margin: 0; 
            padding: 0; 
            display: flex; 
            flex-direction: column; 
            height: 100vh;
            overflow: hidden;
        }

        /* --- HEADER --- */
        .header {
            background: var(--card-bg);
            padding: 10px 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .nav-pill-container {
            display: flex;
            background: #e9ecef;
            border-radius: 20px;
            padding: 4px;
            width: 100%;
            max-width: 500px;
        }
        .nav-pill {
            flex: 1;
            text-align: center;
            padding: 10px 5px;
            font-size: 0.85rem;
            font-weight: 700;
            color: #6c757d;
            border-radius: 16px;
            cursor: pointer;
            transition: 0.2s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .nav-pill.active {
            background: var(--card-bg);
            color: var(--p);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* --- CONTENT --- */
        .content {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            max-width: 600px;
            width: 100%;
            margin: 0 auto;
            box-sizing: border-box;
            display: none;
        }
        .content.active { display: block; animation: fadeIn 0.3s ease; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* --- CARDS & UI --- */
        .card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.06);
            margin-bottom: 20px;
            border-top: 5px solid var(--p);
        }
        .card h3 { margin-top: 0; color: var(--p); font-size: 1.1rem; }
        .card p { color: #666; font-size: 0.95rem; line-height: 1.5; margin-bottom: 20px; }

        /* --- PROMPT BOX --- */
        .prompt-box {
            background: #eef4fc;
            border-left: 4px solid var(--p);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .prompt-label {
            display: block;
            font-size: 0.7rem;
            text-transform: uppercase;
            color: var(--p);
            font-weight: 800;
            margin-bottom: 6px;
        }
        .prompt-text {
            font-size: 1.05rem;
            font-weight: 600;
            color: #2c3e50;
        }

        /* --- BUTTONS --- */
        .btn-grid { display: grid; grid-template-columns: 1fr; gap: 12px; }
        .btn {
            background: #fff;
            border: 2px solid #e9ecef;
            padding: 15px;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            color: #495057;
            cursor: pointer;
            text-align: left;
            transition: all 0.2s;
            position: relative;
        }
        .btn:active { transform: scale(0.98); background: #f8f9fa; }
        .btn-sub { display: block; font-size: 0.8rem; color: #999; font-weight: normal; margin-top: 4px; }
        
        .btn.primary { border-color: var(--p); color: var(--p); background: #f0f7ff; }
        .btn.danger { border-color: var(--err); color: var(--err); background: #fff5f5; }
        .btn.safe { border-color: var(--safe); color: var(--safe); background: #f0fff4; }

        /* --- CHECKLIST (YES LADDER) --- */
        .checklist-item {
            display: flex;
            align-items: flex-start;
            background: #fff;
            border: 1px solid #eee;
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: 0.2s;
        }
        .checklist-item.checked {
            background: #f0fff4;
            border-color: var(--safe);
        }
        .check-circle {
            width: 20px; height: 20px; border-radius: 50%;
            border: 2px solid #ccc; margin-right: 12px;
            display: flex; align-items: center; justify-content: center;
            flex-shrink: 0;
            margin-top: 2px;
        }
        .checklist-item.checked .check-circle {
            border-color: var(--safe); background: var(--safe); color: white;
        }
        .check-circle:after { content: 'âœ“'; font-size: 0.8rem; display: none; }
        .checklist-item.checked .check-circle:after { display: block; }
        
        .cue-title { font-weight: 800; font-size: 0.85rem; color: #333; display: block; margin-bottom: 2px; }
        .cue-desc { font-size: 0.9rem; color: #666; font-style: italic; }

        /* --- CALCULATOR --- */
        .calc-row {
            display: flex;
            align-items: center;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 5px;
            margin-bottom: 10px;
        }
        .calc-label-side {
            writing-mode: vertical-rl;
            transform: rotate(180deg);
            font-size: 0.65rem;
            color: #adb5bd;
            padding: 0 6px;
            font-weight: 800;
            text-transform: uppercase;
        }
        .calc-input {
            flex: 1; border: none; background: transparent;
            font-size: 1.2rem; font-weight: 700; color: var(--p);
            padding: 10px; outline: none; text-align: center; width: 50px;
        }
        .calc-select {
            border: none; background: #e9ecef; border-radius: 8px;
            padding: 8px 12px; font-size: 0.8rem; color: #495057; font-weight: 600; outline: none;
        }
        .calc-result-box {
            background: var(--p); color: white; padding: 15px;
            border-radius: 12px; text-align: center; margin-top: 15px;
        }
        .calc-final { font-size: 1.6rem; font-weight: 800; font-family: monospace; letter-spacing: 1px; }

        /* --- SEARCH & ACCORDION --- */
        .search-bar {
            width: 100%; padding: 15px; border: 2px solid #e9ecef;
            border-radius: 12px; font-size: 1rem; box-sizing: border-box;
            margin-bottom: 20px; outline: none; transition: 0.3s;
        }
        .search-bar:focus { border-color: var(--p); }
        .accordion-item { border-bottom: 1px solid #eee; }
        .accordion-header {
            padding: 15px 0; cursor: pointer; display: flex;
            justify-content: space-between; align-items: center;
            font-weight: 600; color: #333;
        }
        .accordion-body { display: none; padding-bottom: 15px; font-size: 0.95rem; color: #555; line-height: 1.6; }
        .brand-tag {
            display: inline-block; background: #333; color: #fff;
            font-size: 0.7rem; padding: 2px 6px; border-radius: 4px; margin-bottom: 8px;
        }
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div class="header">
        <div class="nav-pill-container">
            <div class="nav-pill active" onclick="switchTab('pocket', this)">Pocket Mode</div>
            <div class="nav-pill" onclick="switchTab('pitch', this)">The Pitch</div>
            <div class="nav-pill" onclick="switchTab('specs', this)">Tech Data</div>
        </div>
    </div>

    <div id="pocket" class="content active">
        
        <div class="card">
            <h3>Intention Tracker</h3>
            <p>Use these "Assumptive Cues" while measuring to test if they are mentally buying. If they push back, they aren't sold yet.</p>
            
            <div class="checklist-item" onclick="toggleCheck(this)">
                <div class="check-circle"></div>
                <div>
                    <span class="cue-title">CUE 1: The Visual Link</span>
                    <span class="cue-desc">"This fabric tone pulls nicely from the [Sofa/Rug]..."</span>
                </div>
            </div>
            
            <div class="checklist-item" onclick="toggleCheck(this)">
                <div class="check-circle"></div>
                <div>
                    <span class="cue-title">CUE 2: The Problem Solver</span>
                    <span class="cue-desc">"Once these are in, that [Glare/Heat] won't be an issue anymore..."</span>
                </div>
            </div>
            
            <div class="checklist-item" onclick="toggleCheck(this)">
                <div class="check-circle"></div>
                <div>
                    <span class="cue-title">CUE 3: The Configuration</span>
                    <span class="cue-desc">"I'll note this as a [Left/Right] control so it hides behind the curtain..."</span>
                </div>
            </div>
            
            <div style="margin-top:15px; font-size:0.8rem; color:#666; border-top:1px solid #eee; padding-top:10px;">
                <b>The Test:</b> A "Yes" means they are visualizing the finish. A "Maybe" means they are still deciding.
            </div>
        </div>

        <div class="card">
            <h3>Plan Decoder</h3>
            <div class="calc-row">
                <div class="calc-label-side">Width</div>
                <input type="number" id="wInput" class="calc-input" placeholder="0" oninput="calcDims()">
                <select id="wUnit" class="calc-select" onchange="calcDims()">
                    <option value="mm">mm</option>
                    <option value="c">Courses</option>
                </select>
            </div>
            <div class="calc-row">
                <div class="calc-label-side">Drop</div>
                <input type="number" id="hInput" class="calc-input" placeholder="0" oninput="calcDims()">
                <select id="hUnit" class="calc-select" onchange="calcDims()">
                    <option value="c">Courses</option>
                    <option value="mm">mm</option>
                </select>
            </div>
            <div class="calc-result-box">
                <div style="font-size:0.7rem; opacity:0.8; text-transform:uppercase;">Mfg Dimensions (mm)</div>
                <div id="finalDim" class="calc-final">- x -</div>
            </div>
        </div>
    </div>

    <div id="pitch" class="content">
        
        <div id="stage0" class="card">
            <h3>Step 1: The Value Stack</h3>
            <p>Confirm the <b>Tailored Package</b> before price. Make them say YES to the quality.</p>
            
            <div class="checklist-item" id="stack1" onclick="toggleStack(this)">
                <div class="check-circle"></div>
                <div>
                    <span class="cue-title">The Durability</span>
                    <span class="cue-desc">"We chose the Lumiere Core so it won't warp, right?"</span>
                </div>
            </div>
            <div class="checklist-item" id="stack2" onclick="toggleStack(this)">
                <div class="check-circle"></div>
                <div>
                    <span class="cue-title">The Hardware</span>
                    <span class="cue-desc">"You wanted the smooth Acmeda winder?"</span>
                </div>
            </div>
            <div class="checklist-item" id="stack3" onclick="toggleStack(this)">
                <div class="check-circle"></div>
                <div>
                    <span class="cue-title">The Outcome</span>
                    <span class="cue-desc">"You love how this finish suits the room?"</span>
                </div>
            </div>

            <button id="revealBtn" class="btn primary hidden" style="margin-top:15px;" onclick="setPitchStage('stage1')">
                They Agreed. Reveal Price.
            </button>
        </div>

        <div id="stage1" class="card hidden">
            <h3>Step 2: The Price Reveal</h3>
            <div class="prompt-box">
                <span class="prompt-label">The Script:</span>
                <span class="prompt-text">"Based on that perfect package we just built, the total investment for the 'Gold Standard' finish is..."</span>
            </div>
            <div class="btn-grid">
                <button class="btn safe" onclick="setPitchStage('stage_win')">Client is Happy (Sign)</button>
                <button class="btn" onclick="setPitchStage('stage_calib')">Client says: "Ouch" (Wince)</button>
                <button class="btn danger" onclick="setPitchStage('stage_stall')">Client says: "Not Ready"</button>
            </div>
        </div>

        <div id="stage_calib" class="card hidden">
            <h3>Calibration Mode</h3>
            <div class="prompt-box">
                <span class="prompt-label">The Script:</span>
                <span class="prompt-text">"Okay, we have two levers. We can adjust the <b>Product Specs</b> (Descope) or we can look at the <b>Price/Payment</b>."</span>
            </div>
            <div class="btn-grid">
                <button class="btn" onclick="setPitchStage('stage_descope')">Adjust Product (Descope)</button>
                <button class="btn primary" onclick="setPitchStage('stage_deal')">Deal Maker (Price)</button>
            </div>
            <button style="margin-top:20px; border:none; background:none; color:#999; width:100%;" onclick="resetPitch()">Reset Pitch</button>
        </div>

        <div id="stage_stall" class="card hidden" style="border-top-color:var(--warn);">
            <h3>The Schedule Reality</h3>
            <p>They said "Not Ready" or "Just Looking". Pivot to <b>Lead Times</b>.</p>
            
            <div class="prompt-box">
                <span class="prompt-label">The Script:</span>
                <span class="prompt-text">"I understand. But my main concern is your <b>schedule</b>. <br><br>Lead times are <b>8 Weeks</b>. If we don't finalize this week, you won't have privacy until [Insert Month]. Is it worth risking that delay?"</span>
            </div>

            <div class="btn-grid">
                <button class="btn safe" onclick="setPitchStage('stage_win')">"I didn't realize that." (Sign)</button>
                <button class="btn" onclick="setPitchStage('stage_hailmary')">"We can wait." (Hail Mary)</button>
            </div>
        </div>

        <div id="stage_deal" class="card hidden" style="border-top-color:var(--safe);">
            <h3>Deal Maker</h3>
            <div class="prompt-box">
                <span class="prompt-label">The "If I, Will You?" Close:</span>
                <span class="prompt-text">"If I can sharpen the pencil to meet your target, would you be happy to sign the paperwork right now?"</span>
            </div>
            <div class="btn-grid">
                <button class="btn safe" onclick="setPitchStage('stage_win')">YES (Call Manager)</button>
                <button class="btn" onclick="setPitchStage('stage_stall')">MAYBE (Go to Stall)</button>
            </div>
        </div>

        <div id="stage_hailmary" class="card hidden">
            <h3>The Hail Mary</h3>
            <div class="prompt-box">
                <span class="prompt-label">The Script:</span>
                <span class="prompt-text">"Fair enough. But before I pack upâ€”is there <b>anything</b> I could do or say that would win your business today?"</span>
            </div>
            <button class="btn" onclick="resetPitch()">Restart</button>
        </div>

        <div id="stage_descope" class="card hidden" style="border-top-color:var(--warn);">
            <h3>Product Descope</h3>
            <p>Reduce the spec to hit the budget.</p>
            <ul style="text-align:left; color:#555; margin-bottom:20px;">
                <li>Remove Motorisation?</li>
                <li>Change Uniline (10yr) to Shaw (5yr)?</li>
                <li>Remove Z-Frame?</li>
            </ul>
            <button class="btn" onclick="resetPitch()">Recalculate Price</button>
        </div>

        <div id="stage_win" class="card hidden" style="border-top-color:var(--safe); text-align:center;">
            <h1 style="font-size:3rem; margin:10px 0;">ðŸŽ‰</h1>
            <h3>Green Light</h3>
            <p>Proceed to paperwork.</p>
            <button class="btn primary" onclick="resetPitch()">New Client</button>
        </div>
    </div>

    <div id="specs" class="content">
        <input type="text" id="techSearch" class="search-bar" placeholder="Search (e.g. 'acmeda', 'recess', 'lumiere')..." onkeyup="filterTech()">
        <div id="techList"></div>
    </div>

<script>
    /* --- LOGIC: POCKET MODE --- */
    function toggleCheck(el) {
        el.classList.toggle('checked');
    }

    function calcDims() {
        const wVal = document.getElementById('wInput').value;
        const wUnit = document.getElementById('wUnit').value;
        const hVal = document.getElementById('hInput').value;
        const hUnit = document.getElementById('hUnit').value;
        
        let finalW = wVal ? (wUnit === 'c' ? Math.round(wVal * 89) : wVal) : "-";
        let finalH = hVal ? (hUnit === 'c' ? Math.round(hVal * 89) : hVal) : "-";
        
        document.getElementById('finalDim').innerText = `${finalW} x ${finalH}`;
    }

    /* --- LOGIC: PITCH MODE --- */
    let stackCount = 0;
    function toggleStack(el) {
        if(!el.classList.contains('checked')) {
            el.classList.add('checked');
            stackCount++;
        } else {
            el.classList.remove('checked');
            stackCount--;
        }
        
        // Only show reveal button if 3 yeses
        if(stackCount >= 3) {
            document.getElementById('revealBtn').classList.remove('hidden');
        } else {
            document.getElementById('revealBtn').classList.add('hidden');
        }
    }

    function setPitchStage(stageId) {
        document.querySelectorAll('#pitch .card').forEach(el => el.classList.add('hidden'));
        document.getElementById(stageId).classList.remove('hidden');
    }

    function resetPitch() {
        document.querySelectorAll('#pitch .card').forEach(el => el.classList.add('hidden'));
        document.getElementById('stage0').classList.remove('hidden');
        document.querySelectorAll('.checklist-item').forEach(el => el.classList.remove('checked'));
        document.getElementById('revealBtn').classList.add('hidden');
        stackCount = 0;
    }

    /* --- LOGIC: TECH DATA --- */
    const techData = [
        {cat: "Roller Blinds", brand: "Acmeda", title: "Acmeda Hardware Specs", body: "Standard hardware is **Rollease Acmeda**. <br>â€¢ Chain winder: RB09 (Smooth). <br>â€¢ Tube: 45mm Heavy Duty. <br>â€¢ Light Gaps: 15mm (Chain side) / 10mm (Idle side)."},
        {cat: "Roller Blinds", brand: "Acmeda", title: "Recess Depths (Rollers)", body: "Minimum reveal depth for Flush Mount:<br>â€¢ **Single Roller:** 60mm.<br>â€¢ **Double Roller:** 135mm.<br>â€¢ **Projection:** Single 68mm / Double 145mm."},
        {cat: "Fabrics", brand: "Uniline / Shaw", title: "Fabric Warranty Tiers", body: "Know your warranty:<br>â€¢ **Uniline (Dawn/Uniview):** 10 Year Warranty (Premium).<br>â€¢ **Shaw / Wilson:** 5 Year Warranty (Standard)."},
        {cat: "Shutters", brand: "Lumiere", title: "Lumiere Shutter Specs", body: "Product Name: **Lumiere**.<br>â€¢ Core: **Aluminium Reinforced** (Won't warp).<br>â€¢ Blade Sizes: 63mm / 89mm (Std) / 114mm.<br>â€¢ Max Panel: 750mm (PVC)."},
        {cat: "Shutters", brand: "Lumiere", title: "Shutter Framing", body: "â€¢ **Z-Frame:** Use for out-of-square windows.<br>â€¢ **L-Frame:** Inside mount.<br>â€¢ **U-Channel:** Fixed panels."},
        {cat: "Zipscreen", brand: "Acmeda", title: "Zipscreen Dimensions", body: "â€¢ **Headbox:** 110mm (Std) / 130mm (Large).<br>â€¢ **Side Channels:** 30mm width.<br>â€¢ **Wind:** Rated to ~60km/h."},
        {cat: "Curtains", brand: "Decor", title: "Curtain Stacking", body: "â€¢ **S-Fold/Wave:** Stacks to ~30% of width.<br>â€¢ **Pinch Pleat:** Stacks to ~25% of width."},
        {cat: "General", brand: "General", title: "Brick Course Conversion", body: "Standard Vertical Brick Course = **89mm** (including mortar)."}
    ];

    const listContainer = document.getElementById('techList');
    techData.forEach((item) => {
        const div = document.createElement('div');
        div.className = 'accordion-item';
        div.innerHTML = `<div class="accordion-header" onclick="toggleAcc(this)"><span>${item.title}</span></div><div class="accordion-body"><span class="brand-tag">${item.brand}</span> <span class="brand-tag" style="background:#eee; color:#555;">${item.cat}</span><p>${item.body}</p></div>`;
        listContainer.appendChild(div);
    });

    function filterTech() {
        const input = document.getElementById('techSearch').value.toLowerCase();
        document.querySelectorAll('.accordion-item').forEach(item => {
            item.classList.toggle('hidden', !item.innerText.toLowerCase().includes(input));
        });
    }

    function toggleAcc(header) {
        header.classList.toggle('active');
        const body = header.nextElementSibling;
        body.style.display = body.style.display === 'block' ? 'none' : 'block';
    }

    function switchTab(id, btn) {
        document.querySelectorAll('.content').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.nav-pill').forEach(el => el.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        btn.classList.add('active');
    }
</script>

</body>
</html>
